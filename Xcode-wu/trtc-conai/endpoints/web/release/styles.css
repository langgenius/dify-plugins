/* Design system variables */
:root{
  /* Light theme by default per spec */
  --bg:#F4F6F8;--card:#ffffff;--text:#0F172A;--muted:#6a7380;--line:rgba(0,0,0,.08);
  --brand:#4B85C3;--brand-600:#3E73AB;--brand-50:#EFF6FF;--success:#49AA19;--danger:#cf1322;
  --radius:12px;--shadow:0 6px 18px rgba(0,0,0,.06);--shadow-sm:0 2px 8px rgba(0,0,0,.05);
  /* Spacing system: 4/8/12/16/20 */
  --space-1:4px;--space-2:8px;--space-3:12px;--space-4:16px;--space-5:20px;
  --mono:"SFMono-Regular",Consolas,Monaco,monospace;
}

/* Page layout */
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);display:flex;justify-content:center;align-items:flex-start;min-height:100vh;margin:0;padding:20px}
#app{width:100%;max-width:1280px;display:flex;flex-direction:column;align-items:stretch;gap:var(--space-4)}
.app-title{color:var(--text);margin:0;font-size:20px;text-align:left;font-weight:600}
.main-container{width:100%;display:flex;gap:var(--space-4);align-items:stretch;justify-content:center}

/* Cards */
.chat-container,.config-container{border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow-sm)}
/* Chat container switched to white theme */
.chat-container{flex:1;display:flex;flex-direction:column;padding:var(--space-4);min-width:0;background:#fff;border-radius:20px;color:var(--text)}
.config-container{display:none}

/* Chat area */
.chat-list{width:100%;height:420px;border:1px solid var(--line);padding:var(--space-3);background:#fff;margin-bottom:var(--space-3);box-sizing:border-box;display:flex;flex-direction:column-reverse;overflow:auto;border-radius:16px;box-shadow:var(--shadow-sm)}
.chat-item{display:flex;flex-direction:column;margin-bottom:var(--space-3);max-width:85%}
.chat-item.user{align-items:flex-end;align-self:flex-end}
.chat-item.ai{align-items:flex-start;align-self:flex-start}
.chat-id{font-weight:600;font-size:11px;color:var(--muted);margin-bottom:4px;display:flex;align-items:center}
.chat-text{padding:10px 14px;border-radius:16px;max-width:100%;font-size:14px;white-space:pre-wrap;word-break:break-word;box-shadow:0 1px 1px rgba(0,0,0,.02);line-height:1.5;position:relative;border:1px solid var(--line)}
.chat-item.user .chat-text{border-top-right-radius:4px;background:var(--brand-50);color:var(--brand)}
.chat-item.ai .chat-text{border-top-left-radius:4px;background:#F8F8F8;color:#555}

/* Status + volume */
#status-volume-container{display:flex;gap:var(--space-3);align-items:center;margin-bottom:var(--space-3)}
#status-container{display:flex;gap:var(--space-2);align-items:center}
.status-indicator{padding:6px 12px;border-radius:9999px;background:rgba(0,0,0,.04);border:1px solid var(--line);color:var(--muted);font-size:12px}
.status-indicator.ok{background:rgba(76,175,80,.08);color:var(--success);border-color:rgba(76,175,80,.25)}
.status-indicator.bad{background:rgba(207,19,34,.08);color:var(--danger);border-color:rgba(207,19,34,.25)}
.volume-indicators{display:flex;justify-content:flex-end;flex:1;gap:var(--space-2);margin-left:10px}
.volume-container{width:150px;position:relative}
.volume-bar-container{height:22px;background:rgba(0,0,0,.05);border-radius:12px;overflow:hidden;box-shadow:inset 0 1px 3px rgba(0,0,0,.08);position:relative}
.volume-bar{height:100%;width:0;border-radius:12px;transition:width .12s cubic-bezier(.4,0,.2,1);position:relative;min-width:8px;box-shadow:0 1px 2px rgba(0,0,0,.1)}
#userVolumeBar{background:linear-gradient(90deg,rgba(33,150,243,.9),rgba(100,181,246,.85));background-size:200% 100%}
#aiVolumeBar{background:linear-gradient(90deg,rgba(76,175,80,.9),rgba(139,195,74,.85));background-size:200% 100%}

/* Input + buttons */
.input-container{display:flex;width:100%;margin-bottom:var(--space-3);gap:var(--space-2)}
.text-input{flex:1;padding:10px 14px;border-radius:9999px;border:1px solid var(--line);font-size:13px;outline:none;background:#fff;color:var(--text)}
.text-input:focus{border-color:var(--brand)}
.send-button{padding:10px 14px;background:var(--brand);color:#fff;border:none;border-radius:9999px;cursor:pointer;box-shadow:var(--shadow-sm)}
.send-button:disabled{opacity:.5;cursor:not-allowed}
.button-container{display:flex;justify-content:center;gap:var(--space-3);width:100%}
.start-button,.interrupt-button,.mute-button,.end-button{padding:10px 14px;border-radius:9999px;border:1px solid var(--line);background:#fff;color:var(--text);cursor:pointer;box-shadow:var(--shadow-sm)}
.start-button{background:var(--brand);color:#fff;border-color:transparent}
.end-button{background:#fff;color:var(--danger);border-color:var(--danger)}
.start-button:disabled,.interrupt-button:disabled,.mute-button:disabled,.end-button:disabled{opacity:.5;cursor:not-allowed}

/* Config */
.config-section{margin:var(--space-4);margin-top:var(--space-3);background:#fff;border:1px solid var(--line);border-radius:16px;padding:var(--space-3);overflow:hidden}
.config-section:first-of-type{margin-top:var(--space-2)}
.config-section+.config-section{margin-top:var(--space-3)}
.config-textarea{display:block;width:100%;max-width:100%;box-sizing:border-box;margin:0;min-height:130px;border:1px solid rgba(0,0,0,.06);border-radius:12px;padding:12px;font-family:var(--mono);background:#fff;color:var(--text);line-height:1.5;white-space:pre;overflow:auto;resize:none}
.config-textarea.read-only{background:#fafafa;color:#555;cursor:default}
.save-config-button{background:var(--brand);color:#fff;border-color:transparent}
.config-container h6,.config-container h7{color:#0F172A;font-size:12px;font-weight:600;margin:var(--space-2) var(--space-4) var(--space-2)}

/* Responsive */
@media (max-width: 980px){
  .main-container{flex-direction:column}
  .config-container{position:relative;width:auto;max-height:none}
}

