# AKShare 股票数据插件 v0.7.0 - 工具拆分优化版综合性股票数据工具

**发布日期**：2025-11-06  

**标签**：v0.7.0

**下载插件包**：[AKShare-Stockdata-plugin-v0.7.0-20251106.difypkg](https://github.com/shaoxing-xie/akshare-stockdata-plugin/releases/tag/v0.7.0)

## 📋 概述

**AKShare 股票数据插件** 是一个专为 Dify 平台开发的综合性股票数据工具，基于知名的 [AKShare](https://github.com/akfamily/akshare) Python 库构建。本插件为用户提供了一站式的股票市场数据访问解决方案，涵盖实时行情、历史数据、财务分析、资金流向、技术分析、沪深港通等多个维度的专业股票信息。v0.7.0版本聚焦于工具拆分优化和功能域分类，将12个大工具拆分为78个细粒度工具，更便于精确调用和使用。

> **功能亮点**: 提供78个专业工具、190+个数据接口，覆盖全球股票市场。查看 [完整功能文档](https://github.com/shaoxing-xie/akshare-stockdata-plugin/blob/main/AKShare%20股票数据插件详细功能文档.md) 获取所有接口详情、参数指南和技术参考。

> **重要声明**: 本插件是 AKShare 库的 Dify 平台集成工具，AKShare 是一个专为学术研究目的设计的开源金融数据接口库。我们对 AKShare 项目团队的卓越工作表示诚挚感谢。

> **⚠️ 接口更新说明**: 由于网络传输稳定性问题，已移除以下8个股东分析接口：
> - `stock_gdfx_free_holding_analyse_em` - 股东持股分析(十大流通股东)
> - `stock_gdfx_holding_analyse_em` - 股东持股分析(十大股东)
> - `stock_gdfx_free_holding_detail_em` - 股东持股明细(十大流通股东)
> - `stock_gdfx_holding_detail_em` - 股东持股明细(十大股东)
> - `stock_gdfx_free_holding_statistics_em` - 股东持股统计(十大股东)
> - `stock_gdfx_holding_statistics_em` - 股东持股统计(十大股东)
> - `stock_gdfx_free_holding_change_em` - 股东持股变动统计(十大流通股东)
> - `stock_gdfx_holding_change_em` - 股东持股变动统计(十大股东)
> 
> 其他股东相关接口（十大股东等）仍然正常可用。

## 🚀 核心特点

### 💎 **无需API密钥**
- ✅ **零配置使用**: 无需申请任何API密钥或令牌
- ✅ **即插即用**: 安装后立即可用，无需复杂配置
- ✅ **成本节约**: 完全免费使用，无使用次数限制

### 🔧 **版本兼容性**
- ✅ **Dify 0.3.0+**: 完全兼容最新版本Dify
- ✅ **依赖管理**: 使用requirements.txt确保稳定安装
- ✅ **自动依赖**: AKShare自动安装pandas和numpy，无需手动配置

### 🌐 **权威数据源**
- 📊 **东方财富网**: 实时行情、财务数据、市场分析
- 📈 **新浪财经**: 历史行情、股票资讯
- 🏢 **同花顺**: 技术指标、资金流向分析
- 💰 **腾讯财经**: 港股、美股数据
- 📱 **网易财经**: 市场概况、个股信息
- 🔗 **公开API**: 证券交易所官方数据接口

### 🛠️ **强大功能矩阵**
- 🎯 **78个专业工具**: 覆盖股票数据分析的各个方面
  - **按功能域分类**: 市场总貌、个股信息、行情数据、财务数据、资金流向、技术分析等11大功能域
  - **细粒度设计**: 每个工具专注于特定功能，便于精确调用
- 🌍 **190+个数据接口**: 广泛覆盖全球主要股票市场
- 📊 **多市场支持**: A股、B股、港股、美股、科创板、北交所
- 🔄 **实时+历史**: 既有实时行情，也有历史数据分析
- 📋 **双重输出**: Markdown表格 + JSON格式，便于阅读和处理
- 📈 **技术分析**: 专业的技术指标计算和分析工具

### 🔧 **技术优势**
- 🛡️ **智能错误处理**: 自动重试机制，优雅的错误恢复
- 🌐 **完整Unicode支持**: 完美处理中文字符和特殊符号
- ⚡ **性能优化**: 子进程隔离，高效内存管理
- 🔄 **参数验证**: 自动参数校验和格式转换

## 👥 服务对象

### 🎓 **学术研究人员**
- 金融学研究者进行市场分析和学术研究
- 经济学学者研究股市波动规律
- 数据科学研究者进行量化分析

### 🤖 **AI应用开发者**
- 构建智能投资助手和财经聊天机器人
- 开发股票分析和预测模型
- 创建自动化投资决策系统

## 📚 详细功能文档

插件提供78个专业工具共190+个数据接口的完整功能。查看 [完整功能文档](https://github.com/shaoxing-xie/akshare-stockdata-plugin/blob/main/AKShare%20股票数据插件详细功能文档.md) 获取所有接口详情、参数指南和技术参考。

## 🛠️ 工具详情

插件提供**78个专业工具**，按功能域分类如下：

### 📊 **一、市场总貌类工具** (20个工具)
获取整体市场概况和统计数据，包括交易所市场总貌、股权质押、商誉数据、股票账户统计、IPO申购、交易事件通知、机构持股、评级估值、公司公告、龙虎榜、大宗交易、融资融券、板块数据、股票热度、涨停板等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取交易所市场总貌** | 上交所、深交所市场总貌数据 | 市场分析、宏观研究 |
| **获取股权质押数据** | 股权质押市场概况、上市公司质押比例 | 风险监控、质押分析 |
| **获取商誉数据** | 商誉市场概况、个股商誉明细 | 商誉分析、减值监控 |
| **获取股票账户统计** | 股票账户月度统计数据 | 市场参与度分析 |
| **获取A股市场股东户数数据** | 股东户数统计数据 | 股东结构分析 |
| **获取股票评论数据** | 千股千评数据 | 市场情绪分析 |
| **获取IPO申购数据** | 新股申购与中签数据 | IPO分析、打新策略 |
| **获取交易事件通知** | 停复牌、分红派息提醒 | 交易提醒、事件监控 |
| **获取市场机构持股数据** | 机构持股一览表、推荐池 | 机构动向分析 |
| **获取个股评级记录与估值分析** | 股票评级记录、估值分析 | 投资评级、估值研究 |
| **获取公司公告数据** | 公司动态、重要公告 | 公司事件跟踪 |
| **获取公司信息披露数据** | 公司信息披露数据 | 信息披露分析 |
| **获取股票列表数据** | 沪深京A股股票代码和简称 | 股票列表查询 |
| **获取龙虎榜数据** | 龙虎榜交易数据 | 资金流向分析 |
| **获取大宗交易数据** | 大宗交易数据 | 大额交易分析 |
| **获取A股市场融资融券数据** | 融资融券数据 | 杠杆资金分析 |
| **获取同花顺板块数据** | 同花顺概念和行业板块数据 | 板块分析、主题投资 |
| **获取东方财富板块数据** | 东方财富概念和行业板块数据 | 板块分析、行业研究 |
| **获取A股市场股票热度数据** | 股票热度排行榜 | 市场热度分析 |
| **获取A股市场涨停板行情数据** | 涨停板、跌停板数据 | 涨停板分析、风险监控 |

### 🏢 **二、个股信息类工具** (6个工具)
获取个股基本信息、新闻研报、分红派息、股东持股变动、股东户数、股票发行与上市等数据。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取个股基本信息** | 股票信息、主营介绍、主营构成、公司概况 | 基本面分析、公司研究 |
| **获取个股新闻研报** | 新闻资讯、个股研报 | 信息跟踪、研报分析 |
| **获取个股分红派息信息** | 分红送配详情、历史分红 | 分红分析、股息投资 |
| **获取个股股东持股变动信息** | 十大股东、十大流通股东、持股变动 | 股东结构分析 |
| **获取A股股东户数数据** | 股东户数详情数据 | 股东分散度分析 |
| **获取股票发行与上市数据** | 新股发行、股票增发、限售解禁 | 发行上市分析 |

### 📈 **三、行情数据类工具** (8个工具)
获取各市场实时行情、历史行情、分时行情、比价数据等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取个股实时行情** | 个股实时行情报价 | 实时监控、交易决策 |
| **获取个股历史行情** | A股日线和分时数据 | 技术分析、回测研究 |
| **获取个股日内分时行情** | 日内分时数据、分钟数据 | 分时分析、盘口分析 |
| **获取个股同行业对比** | 成长性、估值、杜邦分析、公司规模对比 | 行业对比、估值分析 |
| **获取A股市场股票行情** | 沪深京A股实时行情 | 市场行情监控 |
| **获取A股板块行情** | 新股、创业板、科创板实时行情 | 板块行情分析 |
| **获取A股市场股票比价数据** | AH股比价、AB股比价 | 跨市场比较 |
| **获取A股市场特殊股票行情** | 次新股、两网及退市股票 | 特殊股票分析 |

### 💰 **四、财务数据类工具** (6个工具)
获取财务报表和业绩数据，包括业绩快报、资产负债表、利润表、现金流量表、财务指标等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取A股业绩快报数据** | 业绩报表、业绩快报、业绩预告 | 业绩分析、业绩跟踪 |
| **获取A股资产负债表** | 资产负债表数据 | 财务分析、偿债能力分析 |
| **获取A股利润表** | 利润表数据 | 盈利能力分析 |
| **获取A股现金流量表** | 现金流量表数据 | 现金流分析 |
| **获取A股财务指标** | 财务指标数据 | 财务指标分析 |
| **获取A股财务分析指标** | 财务分析指标数据 | 综合财务分析 |

### 🌊 **五、资金流向类工具** (6个工具)
分析资金流向和市场情绪，包括个股资金流向、板块资金流向、主力资金流向、筹码分布等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取个股资金流向** | 个股资金流向数据 | 资金面分析 |
| **获取个股筹码分布** | 筹码分布数据 | 筹码分析 |
| **获取市场股票资金流向排名** | 资金流向排名数据 | 资金流向分析 |
| **获取市场资金流向历史** | 资金流向历史数据 | 资金流向趋势分析 |
| **获取板块资金流向排名** | 板块资金流向排名 | 板块资金分析 |
| **获取大单追踪** | 大单追踪数据 | 主力动向追踪 |

### 📈 **六、技术分析类工具** (7个工具)
技术指标和创新高低数据，包括创新高低、连续涨跌、成交量分析、突破分析、价量分析、ESG评级等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取技术选股-创新高新低** | 创新高、创新低股票 | 技术选股、趋势分析 |
| **获取技术选股-连续涨跌** | 连续上涨、连续下跌股票 | 趋势分析、反转分析 |
| **获取技术选股-成交量分析** | 持续放量、持续缩量股票 | 量价分析 |
| **获取技术选股-突破分析** | 向上突破、向下突破股票 | 突破分析、趋势判断 |
| **获取技术选股-价量分析** | 量价齐升、量价齐跌股票 | 量价关系分析 |
| **获取技术选股-保险披露** | 险资举牌数据 | 保险资金动向 |
| **获取ESG评级数据** | ESG评级数据 | ESG投资、社会责任投资 |

### 📉 **七、技术指标类工具** (5个工具) ⭐ **扩展指标工具**
基于个股历史数据计算多种技术指标的综合分析工具。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取个股趋势动量震荡指标(日频)** | 日频技术指标计算 | 技术分析、量化研究 |
| **获取个股趋势动量震荡指标(分钟)** | 分钟级技术指标计算 | 高频分析、日内交易 |
| **获取个股动态估值指标** | 动态估值指标 | 估值分析、投资决策 |
| **获取个股历史估值指标** | 历史估值指标 | 估值趋势分析 |
| **获取个股基本信息汇总** | 个股基本信息汇总 | 综合信息查询 |

### 🔗 **八、沪深港通类工具** (4个工具)
北向资金持股和流向数据，包括汇率数据、资金流向、排名数据、个股持仓等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取沪深港通汇率数据** | 港股通汇率数据 | 汇率分析、跨境资金分析 |
| **获取沪深港通资金流向数据** | 资金流向数据 | 外资动向分析 |
| **获取沪深港通排名数据** | 板块排行、个股排行 | 外资持仓分析 |
| **获取沪深港通个股持仓** | 具体股票持仓数据 | 个股外资持仓分析 |

### 📊 **九、指数数据类工具** (3个工具) ⭐ **指数分析工具**
A股指数相关的数据接口，包括指数实时行情、历史数据、技术指标等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取A股指数实时行情** | 指数实时行情数据 | 指数监控、市场趋势 |
| **获取A股指数历史行情** | 指数历史行情数据 | 指数分析、技术研究 |
| **获取指数趋势动量震荡指标(日频)** | 指数技术指标计算 | 指数技术分析 |

### 🇭🇰 **十、港股数据类工具** (8个工具) ⭐ **独立工具**
港股相关的数据接口，包括港股实时行情、历史数据、财务分析、公司资料、分红派息等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取港股个股基本信息** | 港股个股基本信息 | 港股基本面分析 |
| **获取港股个股历史行情** | 港股历史行情数据 | 港股技术分析 |
| **获取港股每日分时行情** | 港股分时行情数据 | 港股分时分析 |
| **获取港股个股分红派息数据** | 港股分红派息数据 | 港股分红分析 |
| **获取港股财务指标** | 港股财务指标数据 | 港股财务分析 |
| **获取港股财务报表** | 港股财务报表数据 | 港股财务报表分析 |
| **获取港股个股行业对比数据** | 港股行业对比数据 | 港股行业对比 |
| **获取港股实时行情** | 港股实时行情数据 | 港股实时监控 |

### 🇺🇸 **十一、美股数据类工具** (5个工具) ⭐ **独立工具**
美股相关的数据接口，包括美股实时行情、历史数据、财务分析等。

| 工具名称 | 主要功能 | 适用场景 |
|---------|---------|---------|
| **获取美股市场实时行情** | 美股实时行情数据 | 美股实时监控 |
| **获取美股个股历史行情** | 美股历史行情数据 | 美股技术分析 |
| **获取美股每日分时行情** | 美股分时行情数据 | 美股分时分析 |
| **获取美股财务指标** | 美股财务指标数据 | 美股财务分析 |
| **获取美股财务报表** | 美股财务报表数据 | 美股财务报表分析 |

---

**工具统计**：
- **总计**: 78个专业工具
- **数据接口**: 190+个数据接口
- **功能覆盖**: 市场总貌、个股信息、行情数据、财务数据、资金流向、技术分析、技术指标、沪深港通、指数数据、港股数据、美股数据等11大功能域

## 🔄 版本更新亮点（从 v0.6.0 到 v0.7.0）

* **工具拆分优化**：从12个大工具拆分为78个细粒度工具，更便于精确调用和使用
  - 市场总貌类：从1个大工具拆分为20个专业工具
  - 个股信息类：从1个大工具拆分为6个专业工具
  - 行情数据类：从2个大工具拆分为8个专业工具
  - 财务数据类：从1个大工具拆分为6个专业工具
  - 资金流向类：从1个大工具拆分为6个专业工具
  - 技术分析类：从1个大工具拆分为7个专业工具
  - 技术指标类：从1个大工具拆分为5个专业工具
  - 沪深港通类：从1个大工具拆分为4个专业工具
  - 指数数据类：从1个大工具拆分为3个专业工具
  - 港股数据类：从1个大工具拆分为8个专业工具
  - 美股数据类：从1个大工具拆分为5个专业工具

* **功能域分类**：按功能域分类展示，包含11大功能域，更便于查找和使用

* **接口标准化**：统一接口命名规范，所有接口标签包含数据源和参数要求信息

* **接口数量更新**：从175个接口增加到190+个接口，功能更强大

* **文档完善**：
  - 更新所有README文件（中文、英文、繁体中文、葡萄牙语）
  - 重写详细功能文档，包含所有78个工具共190+个接口的完整说明
  - 文档按功能域分类组织，便于查找

* **版本更新**：manifest.yaml 和 pyproject.toml 版本升级到0.7.0

* **完全向后兼容**：所有基于0.6.0版本的工作流可直接使用，无需修改

👉 **详细变更日志** - [完整的版本更新说明](https://github.com/shaoxing-xie/akshare-stockdata-plugin/blob/main/CHANGELOG.md)

## 🎯 演示和示例

### 📋 **Dify 工作流演示**

我们提供了两个完整的 Dify 工作流演示文件，展示了如何使用 AKShare 股票数据插件的各种功能：

#### 🔧 **演示文件一：插件功能演示**

**文件**: `应用示例/AKShare 股票数据插件 CHATFLOW-DEMO.yml`

**功能说明**: 演示插件所有工具及其接口的使用，展示78个专业工具的完整功能

**演示内容**:
- **股票市场总貌** - 展示市场概况数据获取
- **个股信息总貌** - 演示个股详细信息查询
- **股票实时行情** - 实时价格数据获取
- **股票历史行情** - 历史价格数据分析
- **沪深港通持股** - 北向资金持股情况
- **资金流向分析** - 资金流向数据分析
- **股票财务数据分析** - 财务报表数据获取
- **股票技术分析** - 技术指标计算

**演示特色**:
- **智能条件分支** - 根据用户输入自动选择合适的数据接口
- **数据格式转换** - 自动将 Markdown 表格转换为 Excel 文件
- **多维度展示** - 涵盖所有78个专业工具的使用场景
- **完整工作流** - 从数据获取到结果展示的完整流程

#### 🤖 **演示文件二：个股深度分析应用**

**文件**: `应用示例/个股行情分析-ChatFlow.yml`

**功能说明**: 基于AKShare股票数据插件的个股深度分析ChatFlow应用，提供多维度股票分析

**核心功能**:
- **智能股票识别** - 自动识别股票代码和市场类型（沪市A股、深市A股、北交所）
- **历史行情分析** - 基于一年期历史数据的技术面分析
- **财务指标分析** - 基于财务数据的基本面分析
- **资金流向分析** - 基于资金流向的资金面分析
- **个股研报获取** - 获取最新的个股研究报告
- **综合投资建议** - 基于多维度数据的投资建议

**技术特色**:
- **动态日期计算** - 自动计算最新的历史数据时间范围
- **A股市场验证** - 智能识别并验证A股股票代码
- **多数据源整合** - 整合历史行情、财务数据、资金流向、研报等多维度数据
- **专业分析报告** - 生成包含技术面、基本面、资金面的综合分析报告

#### 🎨 **应用示例展示**

##### 📊 个股诊断报告示例

我们基于插件构建了一个完整的个股诊断工作流，可以自动生成专业的个股诊断报告：

<img src="_assets/result.png" alt="个股诊断报告示例" width="800"/>

##### 🔄 工作流配置

以下是个股诊断助手的工作流配置，展示了如何组合使用多个工具来实现复杂的股票分析：

<img src="_assets/workflow.png" alt="个股诊断助手工作流" width="800"/>

---

**兼容性**：Dify 0.3.0+  
**依赖**：AKShare 最新版  
**许可证**：MIT License

## 📞 技术支持

* **问题反馈**： [GitHub Issues](https://github.com/shaoxing-xie/akshare-stockdata-plugin/issues)
* **邮箱**： sxxiefg@163.com
* **参考**： [AKShare 官方文档](https://github.com/akfamily/akshare)

感谢您的支持！此版本是工具拆分优化版，欢迎反馈以进一步完善。🚀

